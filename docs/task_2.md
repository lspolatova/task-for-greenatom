# Задача 2
**Какие проблемы в следующем фрагменте кода? Как его следует исправить? Необходимо исправить ошибку и переписать код\
ниже с использованием типизации**
```
def create_handlers(callback):
    handlers = []
    for step in range(5):
        handlers.append(lambda: callback(step))
    return handlers


def execute_handlers(handlers):
    for handler in handlers:
        handler()
```
В результате запуска фрагмента кода, при использование в качестве параметра create_handlers функцию, выводящую на
экран step, переданный в нее, был получен следующий вывод:

![Картинка не найдена](/task_2_test.jpg)


Если судить по фрагменту кода, функция create_handlers должна создавать для каждого числа от 0 до 4 обработчик функции,
передаваемой в качестве параметра. Каждый обработчик должен вызывать функцию, передавая в качестве параметра для нее
одно из упомянутых чисел. Однако все обработчики вызывают функцию, передавая в нее одинаковое число, последние число
из диапазона.

В данном случае все lambda-функции создаются в одной и той же области видимости,
они все указывают на одну и ту же переменную (step). При вызыве они все используют текущее значение переменной (4).
Такую ситуацию можно испрвить, создать параметр со значением по умолчанию. Это будет работать так как значение
по умолчанию вычисляется в момент определения функции.

Решение выполнено в файле [task_2.py](../task_2.py)